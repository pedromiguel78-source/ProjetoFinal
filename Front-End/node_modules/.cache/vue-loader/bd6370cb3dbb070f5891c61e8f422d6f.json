{"remainingRequest":"/home/pedro/MEGA/Mestrado UAB/Programacao WEB Avancada/Tarefa 5/ProjetoFinal/Front-End/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/pedro/MEGA/Mestrado UAB/Programacao WEB Avancada/Tarefa 5/ProjetoFinal/Front-End/src/views/DocentesList.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/pedro/MEGA/Mestrado UAB/Programacao WEB Avancada/Tarefa 5/ProjetoFinal/Front-End/src/views/DocentesList.vue","mtime":1769991544552},{"path":"/home/pedro/MEGA/Mestrado UAB/Programacao WEB Avancada/Tarefa 5/ProjetoFinal/Front-End/node_modules/cache-loader/dist/cjs.js","mtime":1769949775297},{"path":"/home/pedro/MEGA/Mestrado UAB/Programacao WEB Avancada/Tarefa 5/ProjetoFinal/Front-End/node_modules/babel-loader/lib/index.js","mtime":1769949776082},{"path":"/home/pedro/MEGA/Mestrado UAB/Programacao WEB Avancada/Tarefa 5/ProjetoFinal/Front-End/node_modules/cache-loader/dist/cjs.js","mtime":1769949775297},{"path":"/home/pedro/MEGA/Mestrado UAB/Programacao WEB Avancada/Tarefa 5/ProjetoFinal/Front-End/node_modules/vue-loader/lib/index.js","mtime":1769949776231}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBodHRwIGZyb20gJy4uL2FwaS9odHRwJzsKCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZG9jZW50ZXM6IFtdLAogICAgICBxOiAnJywKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIGZpZWxkczogWwogICAgICAgIHsga2V5OiAnbm9tZScsIGxhYmVsOiAnTm9tZScgfSwKICAgICAgICB7IGtleTogJ2VtYWlsJywgbGFiZWw6ICdFbWFpbCcgfSwKICAgICAgICB7IGtleTogJ2RlcGFydGFtZW50bycsIGxhYmVsOiAnRGVwYXJ0YW1lbnRvJyB9CiAgICAgIF0KICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgZmlsdGVyZWQoKSB7CiAgICAgIGNvbnN0IHFxID0gdGhpcy5xLnRyaW0oKS50b0xvd2VyQ2FzZSgpOwogICAgICBpZiAoIXFxKSByZXR1cm4gdGhpcy5kb2NlbnRlczsKICAgICAgcmV0dXJuIHRoaXMuZG9jZW50ZXMuZmlsdGVyKChkKSA9PgogICAgICAgIFtkLm5vbWUsIGQuZW1haWwsIGQuZGVwYXJ0YW1lbnRvXS5qb2luKCcgJykudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhxcSkKICAgICAgKTsKICAgIH0sCiAgICBpc0xvZ2dlZEluKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVyc1snYXV0aC9pc0xvZ2dlZEluJ107CiAgICB9LAogICAgY3VycmVudERvY2VudGUoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzWydhdXRoL2RvY2VudGUnXTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGxpbmtEb2NlbnRlKGQpIHsKICAgICAgLy8gU2UgZXN0aXZlciBhdXRlbnRpY2FkbyBlIGNsaWNhciBubyBwcsOzcHJpbyBub21lIC0+IGlyIHBhcmEgTWluaGFzIFByb3Bvc3RhcwogICAgICBpZiAodGhpcy5pc0xvZ2dlZEluICYmIHRoaXMuY3VycmVudERvY2VudGUgJiYgdGhpcy5jdXJyZW50RG9jZW50ZS5pZCA9PT0gZC5faWQpIHsKICAgICAgICByZXR1cm4gJy9taW5oYXMtcHJvcG9zdGFzJzsKICAgICAgfQogICAgICAvLyBDYXNvIGNvbnRyw6FyaW8sIHZhaSBwYXJhIG8gZGV0YWxoZSBkbyBkb2NlbnRlIChww7pibGljbykKICAgICAgcmV0dXJuIGAvZG9jZW50ZXMvJHtkLl9pZH1gOwogICAgfQogIH0sCiAgYXN5bmMgY3JlYXRlZCgpIHsKICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICB0cnkgewogICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IGh0dHAuZ2V0KCcvZG9jZW50ZXMnKTsKICAgICAgdGhpcy5kb2NlbnRlcyA9IGRhdGE7CiAgICB9IGNhdGNoIChlKSB7CiAgICAgIHRoaXMuJGFsZXJ0KCdOw6NvIGZvaSBwb3Nzw612ZWwgb2J0ZXIgYSBsaXN0YSBkZSBkb2NlbnRlcy4nKTsKICAgIH0gZmluYWxseSB7CiAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgfQogIH0KfTsK"},{"version":3,"sources":["DocentesList.vue"],"names":[],"mappings":";AAoBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"DocentesList.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <h2>Docentes</h2>\n    <b-card class=\"mb-3\">\n      <b-form-group label=\"Pesquisar\" label-for=\"q\">\n        <b-form-input id=\"q\" v-model=\"q\" placeholder=\"nome, email, departamento\" />\n      </b-form-group>\n    </b-card>\n\n    <b-table striped hover :items=\"filtered\" :fields=\"fields\">\n      <template #cell(nome)=\"data\">\n        <router-link :to=\"linkDocente(data.item)\">{{ data.item.nome }}</router-link>\n      </template>\n    </b-table>\n\n    <p class=\"text-muted\" v-if=\"loading\">A carregar...</p>\n  </div>\n</template>\n\n<script>\nimport http from '../api/http';\n\nexport default {\n  data() {\n    return {\n      docentes: [],\n      q: '',\n      loading: false,\n      fields: [\n        { key: 'nome', label: 'Nome' },\n        { key: 'email', label: 'Email' },\n        { key: 'departamento', label: 'Departamento' }\n      ]\n    };\n  },\n  computed: {\n    filtered() {\n      const qq = this.q.trim().toLowerCase();\n      if (!qq) return this.docentes;\n      return this.docentes.filter((d) =>\n        [d.nome, d.email, d.departamento].join(' ').toLowerCase().includes(qq)\n      );\n    },\n    isLoggedIn() {\n      return this.$store.getters['auth/isLoggedIn'];\n    },\n    currentDocente() {\n      return this.$store.getters['auth/docente'];\n    }\n  },\n  methods: {\n    linkDocente(d) {\n      // Se estiver autenticado e clicar no próprio nome -> ir para Minhas Propostas\n      if (this.isLoggedIn && this.currentDocente && this.currentDocente.id === d._id) {\n        return '/minhas-propostas';\n      }\n      // Caso contrário, vai para o detalhe do docente (público)\n      return `/docentes/${d._id}`;\n    }\n  },\n  async created() {\n    this.loading = true;\n    try {\n      const { data } = await http.get('/docentes');\n      this.docentes = data;\n    } catch (e) {\n      this.$alert('Não foi possível obter a lista de docentes.');\n    } finally {\n      this.loading = false;\n    }\n  }\n};\n</script>\n"]}]}