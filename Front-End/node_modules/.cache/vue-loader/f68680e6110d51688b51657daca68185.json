{"remainingRequest":"/home/pedro/MEGA/Mestrado UAB/Programacao WEB Avancada/Tarefa 5/ProjetoFinal/Front-End/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/pedro/MEGA/Mestrado UAB/Programacao WEB Avancada/Tarefa 5/ProjetoFinal/Front-End/src/views/Register.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/pedro/MEGA/Mestrado UAB/Programacao WEB Avancada/Tarefa 5/ProjetoFinal/Front-End/src/views/Register.vue","mtime":1769993575982},{"path":"/home/pedro/MEGA/Mestrado UAB/Programacao WEB Avancada/Tarefa 5/ProjetoFinal/Front-End/node_modules/cache-loader/dist/cjs.js","mtime":1769949775297},{"path":"/home/pedro/MEGA/Mestrado UAB/Programacao WEB Avancada/Tarefa 5/ProjetoFinal/Front-End/node_modules/babel-loader/lib/index.js","mtime":1769949776082},{"path":"/home/pedro/MEGA/Mestrado UAB/Programacao WEB Avancada/Tarefa 5/ProjetoFinal/Front-End/node_modules/cache-loader/dist/cjs.js","mtime":1769949775297},{"path":"/home/pedro/MEGA/Mestrado UAB/Programacao WEB Avancada/Tarefa 5/ProjetoFinal/Front-End/node_modules/vue-loader/lib/index.js","mtime":1769949776231}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbm9tZTogJycsCiAgICAgIGVtYWlsOiAnJywKICAgICAgZGVwYXJ0YW1lbnRvOiAnJywgLy8gZmFsdGF2YQogICAgICBwYXNzd29yZDogJycsCiAgICAgIHBhc3N3b3JkMjogJycsCiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICBlcnJvcjogJycKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBhc3luYyBzdWJtaXQoKSB7CiAgICAgIHRoaXMuZXJyb3IgPSAnJzsKICAgICAgaWYgKHRoaXMucGFzc3dvcmQgIT09IHRoaXMucGFzc3dvcmQyKSB7CiAgICAgICAgdGhpcy5lcnJvciA9ICdBcyBwYXNzd29yZHMgbsOjbyBjb2luY2lkZW0uJzsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgaWYgKCh0aGlzLnBhc3N3b3JkIHx8ICcnKS5sZW5ndGggPCA2KSB7CiAgICAgICAgdGhpcy5lcnJvciA9ICdBIHBhc3N3b3JkIGRldmUgdGVyIHBlbG8gbWVub3MgNiBjYXJhY3RlcmVzLic7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgIHRyeSB7CiAgICAgICAgYXdhaXQgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2F1dGgvcmVnaXN0ZXInLCB7CiAgICAgICAgICBub21lOiB0aGlzLm5vbWUsCiAgICAgICAgICBlbWFpbDogdGhpcy5lbWFpbCwKICAgICAgICAgIHBhc3N3b3JkOiB0aGlzLnBhc3N3b3JkLAogICAgICAgICAgZGVwYXJ0YW1lbnRvOiB0aGlzLmRlcGFydGFtZW50byAvLyBlbnZpYXIgcGFyYSBBUEkKICAgICAgICB9KTsKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL21pbmhhcy1wcm9wb3N0YXMnKTsKICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgIHRoaXMuZXJyb3IgPQogICAgICAgICAgZS5yZXNwb25zZSAmJiBlLnJlc3BvbnNlLmRhdGEgJiYgZS5yZXNwb25zZS5kYXRhLm1lc3NhZ2UKICAgICAgICAgICAgPyBlLnJlc3BvbnNlLmRhdGEubWVzc2FnZQogICAgICAgICAgICA6ICdFcnJvIG5vIHJlZ2lzdG8uJzsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgfQogICAgfQogIH0KfTsK"},{"version":3,"sources":["Register.vue"],"names":[],"mappings":";AAkDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Register.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <b-container class=\"py-4\">\n    <b-row align-h=\"center\">\n      <b-col cols=\"12\" md=\"8\" lg=\"5\">\n        <h2 class=\"mb-3\">Registo (Docente)</h2>\n\n        <b-card>\n          <b-alert variant=\"danger\" :show=\"!!error\" class=\"mb-3\">{{ error }}</b-alert>\n\n          <b-form @submit.prevent=\"submit\">\n            <b-form-group label=\"Nome\" label-for=\"nome\">\n              <b-form-input id=\"nome\" v-model.trim=\"nome\" required />\n            </b-form-group>\n\n            <b-form-group label=\"Email\" label-for=\"email\">\n              <b-form-input id=\"email\" v-model.trim=\"email\" type=\"email\" required />\n            </b-form-group>\n\n            <b-form-group label=\"Departamento\" label-for=\"departamento\">\n              <b-form-input\n                id=\"departamento\"\n                v-model.trim=\"departamento\"\n                placeholder=\"Ex.: Informática\"\n              />\n            </b-form-group>\n\n            <b-form-group label=\"Password\" label-for=\"password\" description=\"Mínimo 6 caracteres.\">\n              <b-form-input id=\"password\" v-model=\"password\" type=\"password\" required />\n            </b-form-group>\n\n            <b-form-group label=\"Confirmar Password\" label-for=\"password2\">\n              <b-form-input id=\"password2\" v-model=\"password2\" type=\"password\" required />\n            </b-form-group>\n\n            <div class=\"d-flex flex-column flex-md-row justify-content-md-between align-items-md-center\">\n              <b-button variant=\"primary\" type=\"submit\" class=\"w-100 w-md-auto mb-2 mb-md-0\" :disabled=\"loading\">\n                <b-spinner small v-if=\"loading\" class=\"mr-2\" />\n                Criar conta\n              </b-button>\n\n              <router-link to=\"/login\" class=\"text-center\">Já tenho conta</router-link>\n            </div>\n          </b-form>\n        </b-card>\n      </b-col>\n    </b-row>\n  </b-container>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      nome: '',\n      email: '',\n      departamento: '', // faltava\n      password: '',\n      password2: '',\n      loading: false,\n      error: ''\n    };\n  },\n  methods: {\n    async submit() {\n      this.error = '';\n      if (this.password !== this.password2) {\n        this.error = 'As passwords não coincidem.';\n        return;\n      }\n      if ((this.password || '').length < 6) {\n        this.error = 'A password deve ter pelo menos 6 caracteres.';\n        return;\n      }\n      this.loading = true;\n      try {\n        await this.$store.dispatch('auth/register', {\n          nome: this.nome,\n          email: this.email,\n          password: this.password,\n          departamento: this.departamento // enviar para API\n        });\n        this.$router.push('/minhas-propostas');\n      } catch (e) {\n        this.error =\n          e.response && e.response.data && e.response.data.message\n            ? e.response.data.message\n            : 'Erro no registo.';\n      } finally {\n        this.loading = false;\n      }\n    }\n  }\n};\n</script>\n"]}]}