{"remainingRequest":"/home/pedro/MEGA/Mestrado UAB/Programacao WEB Avancada/Tarefa 5/ProjetoFinal/Front-End/node_modules/babel-loader/lib/index.js!/home/pedro/MEGA/Mestrado UAB/Programacao WEB Avancada/Tarefa 5/ProjetoFinal/Front-End/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/pedro/MEGA/Mestrado UAB/Programacao WEB Avancada/Tarefa 5/ProjetoFinal/Front-End/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/pedro/MEGA/Mestrado UAB/Programacao WEB Avancada/Tarefa 5/ProjetoFinal/Front-End/src/views/DocentesList.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/pedro/MEGA/Mestrado UAB/Programacao WEB Avancada/Tarefa 5/ProjetoFinal/Front-End/src/views/DocentesList.vue","mtime":1769991544552},{"path":"/home/pedro/MEGA/Mestrado UAB/Programacao WEB Avancada/Tarefa 5/ProjetoFinal/Front-End/babel.config.js","mtime":1769967689617},{"path":"/home/pedro/MEGA/Mestrado UAB/Programacao WEB Avancada/Tarefa 5/ProjetoFinal/Front-End/node_modules/cache-loader/dist/cjs.js","mtime":1769949775297},{"path":"/home/pedro/MEGA/Mestrado UAB/Programacao WEB Avancada/Tarefa 5/ProjetoFinal/Front-End/node_modules/babel-loader/lib/index.js","mtime":1769949776082},{"path":"/home/pedro/MEGA/Mestrado UAB/Programacao WEB Avancada/Tarefa 5/ProjetoFinal/Front-End/node_modules/cache-loader/dist/cjs.js","mtime":1769949775297},{"path":"/home/pedro/MEGA/Mestrado UAB/Programacao WEB Avancada/Tarefa 5/ProjetoFinal/Front-End/node_modules/vue-loader/lib/index.js","mtime":1769949776231}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuaXRlcmF0b3IuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5pdGVyYXRvci5maWx0ZXIuanMiOwppbXBvcnQgaHR0cCBmcm9tICcuLi9hcGkvaHR0cCc7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZG9jZW50ZXM6IFtdLAogICAgICBxOiAnJywKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIGZpZWxkczogW3sKICAgICAgICBrZXk6ICdub21lJywKICAgICAgICBsYWJlbDogJ05vbWUnCiAgICAgIH0sIHsKICAgICAgICBrZXk6ICdlbWFpbCcsCiAgICAgICAgbGFiZWw6ICdFbWFpbCcKICAgICAgfSwgewogICAgICAgIGtleTogJ2RlcGFydGFtZW50bycsCiAgICAgICAgbGFiZWw6ICdEZXBhcnRhbWVudG8nCiAgICAgIH1dCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGZpbHRlcmVkKCkgewogICAgICBjb25zdCBxcSA9IHRoaXMucS50cmltKCkudG9Mb3dlckNhc2UoKTsKICAgICAgaWYgKCFxcSkgcmV0dXJuIHRoaXMuZG9jZW50ZXM7CiAgICAgIHJldHVybiB0aGlzLmRvY2VudGVzLmZpbHRlcihkID0+IFtkLm5vbWUsIGQuZW1haWwsIGQuZGVwYXJ0YW1lbnRvXS5qb2luKCcgJykudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhxcSkpOwogICAgfSwKICAgIGlzTG9nZ2VkSW4oKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzWydhdXRoL2lzTG9nZ2VkSW4nXTsKICAgIH0sCiAgICBjdXJyZW50RG9jZW50ZSgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnNbJ2F1dGgvZG9jZW50ZSddOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgbGlua0RvY2VudGUoZCkgewogICAgICAvLyBTZSBlc3RpdmVyIGF1dGVudGljYWRvIGUgY2xpY2FyIG5vIHByw7NwcmlvIG5vbWUgLT4gaXIgcGFyYSBNaW5oYXMgUHJvcG9zdGFzCiAgICAgIGlmICh0aGlzLmlzTG9nZ2VkSW4gJiYgdGhpcy5jdXJyZW50RG9jZW50ZSAmJiB0aGlzLmN1cnJlbnREb2NlbnRlLmlkID09PSBkLl9pZCkgewogICAgICAgIHJldHVybiAnL21pbmhhcy1wcm9wb3N0YXMnOwogICAgICB9CiAgICAgIC8vIENhc28gY29udHLDoXJpbywgdmFpIHBhcmEgbyBkZXRhbGhlIGRvIGRvY2VudGUgKHDDumJsaWNvKQogICAgICByZXR1cm4gYC9kb2NlbnRlcy8ke2QuX2lkfWA7CiAgICB9CiAgfSwKICBhc3luYyBjcmVhdGVkKCkgewogICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgIHRyeSB7CiAgICAgIGNvbnN0IHsKICAgICAgICBkYXRhCiAgICAgIH0gPSBhd2FpdCBodHRwLmdldCgnL2RvY2VudGVzJyk7CiAgICAgIHRoaXMuZG9jZW50ZXMgPSBkYXRhOwogICAgfSBjYXRjaCAoZSkgewogICAgICB0aGlzLiRhbGVydCgnTsOjbyBmb2kgcG9zc8OtdmVsIG9idGVyIGEgbGlzdGEgZGUgZG9jZW50ZXMuJyk7CiAgICB9IGZpbmFsbHkgewogICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgIH0KICB9Cn07"},{"version":3,"names":["http","data","docentes","q","loading","fields","key","label","computed","filtered","qq","trim","toLowerCase","filter","d","nome","email","departamento","join","includes","isLoggedIn","$store","getters","currentDocente","methods","linkDocente","id","_id","created","get","e","$alert"],"sources":["src/views/DocentesList.vue"],"sourcesContent":["<template>\n  <div>\n    <h2>Docentes</h2>\n    <b-card class=\"mb-3\">\n      <b-form-group label=\"Pesquisar\" label-for=\"q\">\n        <b-form-input id=\"q\" v-model=\"q\" placeholder=\"nome, email, departamento\" />\n      </b-form-group>\n    </b-card>\n\n    <b-table striped hover :items=\"filtered\" :fields=\"fields\">\n      <template #cell(nome)=\"data\">\n        <router-link :to=\"linkDocente(data.item)\">{{ data.item.nome }}</router-link>\n      </template>\n    </b-table>\n\n    <p class=\"text-muted\" v-if=\"loading\">A carregar...</p>\n  </div>\n</template>\n\n<script>\nimport http from '../api/http';\n\nexport default {\n  data() {\n    return {\n      docentes: [],\n      q: '',\n      loading: false,\n      fields: [\n        { key: 'nome', label: 'Nome' },\n        { key: 'email', label: 'Email' },\n        { key: 'departamento', label: 'Departamento' }\n      ]\n    };\n  },\n  computed: {\n    filtered() {\n      const qq = this.q.trim().toLowerCase();\n      if (!qq) return this.docentes;\n      return this.docentes.filter((d) =>\n        [d.nome, d.email, d.departamento].join(' ').toLowerCase().includes(qq)\n      );\n    },\n    isLoggedIn() {\n      return this.$store.getters['auth/isLoggedIn'];\n    },\n    currentDocente() {\n      return this.$store.getters['auth/docente'];\n    }\n  },\n  methods: {\n    linkDocente(d) {\n      // Se estiver autenticado e clicar no próprio nome -> ir para Minhas Propostas\n      if (this.isLoggedIn && this.currentDocente && this.currentDocente.id === d._id) {\n        return '/minhas-propostas';\n      }\n      // Caso contrário, vai para o detalhe do docente (público)\n      return `/docentes/${d._id}`;\n    }\n  },\n  async created() {\n    this.loading = true;\n    try {\n      const { data } = await http.get('/docentes');\n      this.docentes = data;\n    } catch (e) {\n      this.$alert('Não foi possível obter a lista de docentes.');\n    } finally {\n      this.loading = false;\n    }\n  }\n};\n</script>\n"],"mappings":";;AAoBA,OAAAA,IAAA;AAEA;EACAC,KAAA;IACA;MACAC,QAAA;MACAC,CAAA;MACAC,OAAA;MACAC,MAAA,GACA;QAAAC,GAAA;QAAAC,KAAA;MAAA,GACA;QAAAD,GAAA;QAAAC,KAAA;MAAA,GACA;QAAAD,GAAA;QAAAC,KAAA;MAAA;IAEA;EACA;EACAC,QAAA;IACAC,SAAA;MACA,MAAAC,EAAA,QAAAP,CAAA,CAAAQ,IAAA,GAAAC,WAAA;MACA,KAAAF,EAAA,cAAAR,QAAA;MACA,YAAAA,QAAA,CAAAW,MAAA,CAAAC,CAAA,IACA,CAAAA,CAAA,CAAAC,IAAA,EAAAD,CAAA,CAAAE,KAAA,EAAAF,CAAA,CAAAG,YAAA,EAAAC,IAAA,MAAAN,WAAA,GAAAO,QAAA,CAAAT,EAAA,CACA;IACA;IACAU,WAAA;MACA,YAAAC,MAAA,CAAAC,OAAA;IACA;IACAC,eAAA;MACA,YAAAF,MAAA,CAAAC,OAAA;IACA;EACA;EACAE,OAAA;IACAC,YAAAX,CAAA;MACA;MACA,SAAAM,UAAA,SAAAG,cAAA,SAAAA,cAAA,CAAAG,EAAA,KAAAZ,CAAA,CAAAa,GAAA;QACA;MACA;MACA;MACA,oBAAAb,CAAA,CAAAa,GAAA;IACA;EACA;EACA,MAAAC,QAAA;IACA,KAAAxB,OAAA;IACA;MACA;QAAAH;MAAA,UAAAD,IAAA,CAAA6B,GAAA;MACA,KAAA3B,QAAA,GAAAD,IAAA;IACA,SAAA6B,CAAA;MACA,KAAAC,MAAA;IACA;MACA,KAAA3B,OAAA;IACA;EACA;AACA","ignoreList":[]}]}