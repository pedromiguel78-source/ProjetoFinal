{"remainingRequest":"/home/pedro/MEGA/Mestrado UAB/Programacao WEB Avancada/Tarefa 5/ProjetoFinal/Front-End/node_modules/babel-loader/lib/index.js!/home/pedro/MEGA/Mestrado UAB/Programacao WEB Avancada/Tarefa 5/ProjetoFinal/Front-End/src/store/modules/auth.js","dependencies":[{"path":"/home/pedro/MEGA/Mestrado UAB/Programacao WEB Avancada/Tarefa 5/ProjetoFinal/Front-End/src/store/modules/auth.js","mtime":1769993607756},{"path":"/home/pedro/MEGA/Mestrado UAB/Programacao WEB Avancada/Tarefa 5/ProjetoFinal/Front-End/babel.config.js","mtime":1769967689617},{"path":"/home/pedro/MEGA/Mestrado UAB/Programacao WEB Avancada/Tarefa 5/ProjetoFinal/Front-End/node_modules/cache-loader/dist/cjs.js","mtime":1769949775297},{"path":"/home/pedro/MEGA/Mestrado UAB/Programacao WEB Avancada/Tarefa 5/ProjetoFinal/Front-End/node_modules/babel-loader/lib/index.js","mtime":1769949776082}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuanNvbi5wYXJzZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmpzb24uc3RyaW5naWZ5LmpzIjsKaW1wb3J0IGh0dHAgZnJvbSAnLi4vLi4vYXBpL2h0dHAnOwpjb25zdCBzdGF0ZSA9IHsKICB0b2tlbjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJykgfHwgJycsCiAgZG9jZW50ZTogSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZG9jZW50ZScpIHx8ICdudWxsJykKfTsKY29uc3QgZ2V0dGVycyA9IHsKICB0b2tlbjogcyA9PiBzLnRva2VuLAogIGRvY2VudGU6IHMgPT4gcy5kb2NlbnRlLAogIGlzTG9nZ2VkSW46IHMgPT4gISFzLnRva2VuCn07CmNvbnN0IG11dGF0aW9ucyA9IHsKICBzZXRBdXRoKHN0YXRlLCB7CiAgICB0b2tlbiwKICAgIGRvY2VudGUKICB9KSB7CiAgICBzdGF0ZS50b2tlbiA9IHRva2VuOwogICAgc3RhdGUuZG9jZW50ZSA9IGRvY2VudGU7CiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndG9rZW4nLCB0b2tlbik7CiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZG9jZW50ZScsIEpTT04uc3RyaW5naWZ5KGRvY2VudGUpKTsKICB9LAogIHNldERvY2VudGUoc3RhdGUsIGRvY2VudGUpIHsKICAgIHN0YXRlLmRvY2VudGUgPSBkb2NlbnRlOwogICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2RvY2VudGUnLCBKU09OLnN0cmluZ2lmeShkb2NlbnRlKSk7CiAgfSwKICBjbGVhckF1dGgoc3RhdGUpIHsKICAgIHN0YXRlLnRva2VuID0gJyc7CiAgICBzdGF0ZS5kb2NlbnRlID0gbnVsbDsKICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd0b2tlbicpOwogICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2RvY2VudGUnKTsKICB9Cn07CmNvbnN0IGFjdGlvbnMgPSB7CiAgYXN5bmMgbG9naW4oewogICAgY29tbWl0CiAgfSwgewogICAgZW1haWwsCiAgICBwYXNzd29yZAogIH0pIHsKICAgIGNvbnN0IHsKICAgICAgZGF0YQogICAgfSA9IGF3YWl0IGh0dHAucG9zdCgnL2F1dGgvbG9naW4nLCB7CiAgICAgIGVtYWlsLAogICAgICBwYXNzd29yZAogICAgfSk7CiAgICBjb21taXQoJ3NldEF1dGgnLCBkYXRhKTsKICAgIHJldHVybiBkYXRhOyAvLyDinIUKICB9LAogIGFzeW5jIHJlZ2lzdGVyKHsKICAgIGNvbW1pdAogIH0sIHsKICAgIG5vbWUsCiAgICBlbWFpbCwKICAgIHBhc3N3b3JkLAogICAgZGVwYXJ0YW1lbnRvCiAgfSkgewogICAgY29uc3QgewogICAgICBkYXRhCiAgICB9ID0gYXdhaXQgaHR0cC5wb3N0KCcvYXV0aC9yZWdpc3RlcicsIHsKICAgICAgbm9tZSwKICAgICAgZW1haWwsCiAgICAgIHBhc3N3b3JkLAogICAgICBkZXBhcnRhbWVudG8KICAgIH0pOwogICAgY29tbWl0KCdzZXRBdXRoJywgZGF0YSk7CiAgICByZXR1cm4gZGF0YTsgLy8g4pyFCiAgfSwKICBhc3luYyByZXN0b3JlKHsKICAgIHN0YXRlLAogICAgY29tbWl0CiAgfSkgewogICAgaWYgKCFzdGF0ZS50b2tlbikgcmV0dXJuOwogICAgY29uc3QgewogICAgICBkYXRhCiAgICB9ID0gYXdhaXQgaHR0cC5nZXQoJy9hdXRoL21lJyk7CiAgICBjb21taXQoJ3NldERvY2VudGUnLCBkYXRhLmRvY2VudGUpOwogIH0sCiAgbG9nb3V0KHsKICAgIGNvbW1pdAogIH0pIHsKICAgIGNvbW1pdCgnY2xlYXJBdXRoJyk7CiAgfQp9OwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZXNwYWNlZDogdHJ1ZSwKICBzdGF0ZSwKICBnZXR0ZXJzLAogIG11dGF0aW9ucywKICBhY3Rpb25zCn07"},{"version":3,"names":["http","state","token","localStorage","getItem","docente","JSON","parse","getters","s","isLoggedIn","mutations","setAuth","setItem","stringify","setDocente","clearAuth","removeItem","actions","login","commit","email","password","data","post","register","nome","departamento","restore","get","logout","namespaced"],"sources":["/home/pedro/MEGA/Mestrado UAB/Programacao WEB Avancada/Tarefa 5/ProjetoFinal/Front-End/src/store/modules/auth.js"],"sourcesContent":["import http from '../../api/http';\n\nconst state = {\n  token: localStorage.getItem('token') || '',\n  docente: JSON.parse(localStorage.getItem('docente') || 'null')\n};\n\nconst getters = {\n  token: (s) => s.token,\n  docente: (s) => s.docente,\n  isLoggedIn: (s) => !!s.token\n};\n\nconst mutations = {\n  setAuth(state, { token, docente }) {\n    state.token = token;\n    state.docente = docente;\n    localStorage.setItem('token', token);\n    localStorage.setItem('docente', JSON.stringify(docente));\n  },\n  setDocente(state, docente) {\n    state.docente = docente;\n    localStorage.setItem('docente', JSON.stringify(docente));\n  },\n  clearAuth(state) {\n    state.token = '';\n    state.docente = null;\n    localStorage.removeItem('token');\n    localStorage.removeItem('docente');\n  }\n};\n\nconst actions = {\n  async login({ commit }, { email, password }) {\n    const { data } = await http.post('/auth/login', { email, password });\n    commit('setAuth', data);\n    return data; // ✅\n  },\n\n  async register({ commit }, { nome, email, password, departamento }) {\n    const { data } = await http.post('/auth/register', {\n      nome,\n      email,\n      password,\n      departamento\n    });\n    commit('setAuth', data);\n    return data; // ✅\n  },\n\n  async restore({ state, commit }) {\n    if (!state.token) return;\n    const { data } = await http.get('/auth/me');\n    commit('setDocente', data.docente);\n  },\n\n  logout({ commit }) {\n    commit('clearAuth');\n  }\n};\n\nexport default { namespaced: true, state, getters, mutations, actions };\n"],"mappings":";;AAAA,OAAOA,IAAI,MAAM,gBAAgB;AAEjC,MAAMC,KAAK,GAAG;EACZC,KAAK,EAAEC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,IAAI,EAAE;EAC1CC,OAAO,EAAEC,IAAI,CAACC,KAAK,CAACJ,YAAY,CAACC,OAAO,CAAC,SAAS,CAAC,IAAI,MAAM;AAC/D,CAAC;AAED,MAAMI,OAAO,GAAG;EACdN,KAAK,EAAGO,CAAC,IAAKA,CAAC,CAACP,KAAK;EACrBG,OAAO,EAAGI,CAAC,IAAKA,CAAC,CAACJ,OAAO;EACzBK,UAAU,EAAGD,CAAC,IAAK,CAAC,CAACA,CAAC,CAACP;AACzB,CAAC;AAED,MAAMS,SAAS,GAAG;EAChBC,OAAOA,CAACX,KAAK,EAAE;IAAEC,KAAK;IAAEG;EAAQ,CAAC,EAAE;IACjCJ,KAAK,CAACC,KAAK,GAAGA,KAAK;IACnBD,KAAK,CAACI,OAAO,GAAGA,OAAO;IACvBF,YAAY,CAACU,OAAO,CAAC,OAAO,EAAEX,KAAK,CAAC;IACpCC,YAAY,CAACU,OAAO,CAAC,SAAS,EAAEP,IAAI,CAACQ,SAAS,CAACT,OAAO,CAAC,CAAC;EAC1D,CAAC;EACDU,UAAUA,CAACd,KAAK,EAAEI,OAAO,EAAE;IACzBJ,KAAK,CAACI,OAAO,GAAGA,OAAO;IACvBF,YAAY,CAACU,OAAO,CAAC,SAAS,EAAEP,IAAI,CAACQ,SAAS,CAACT,OAAO,CAAC,CAAC;EAC1D,CAAC;EACDW,SAASA,CAACf,KAAK,EAAE;IACfA,KAAK,CAACC,KAAK,GAAG,EAAE;IAChBD,KAAK,CAACI,OAAO,GAAG,IAAI;IACpBF,YAAY,CAACc,UAAU,CAAC,OAAO,CAAC;IAChCd,YAAY,CAACc,UAAU,CAAC,SAAS,CAAC;EACpC;AACF,CAAC;AAED,MAAMC,OAAO,GAAG;EACd,MAAMC,KAAKA,CAAC;IAAEC;EAAO,CAAC,EAAE;IAAEC,KAAK;IAAEC;EAAS,CAAC,EAAE;IAC3C,MAAM;MAAEC;IAAK,CAAC,GAAG,MAAMvB,IAAI,CAACwB,IAAI,CAAC,aAAa,EAAE;MAAEH,KAAK;MAAEC;IAAS,CAAC,CAAC;IACpEF,MAAM,CAAC,SAAS,EAAEG,IAAI,CAAC;IACvB,OAAOA,IAAI,CAAC,CAAC;EACf,CAAC;EAED,MAAME,QAAQA,CAAC;IAAEL;EAAO,CAAC,EAAE;IAAEM,IAAI;IAAEL,KAAK;IAAEC,QAAQ;IAAEK;EAAa,CAAC,EAAE;IAClE,MAAM;MAAEJ;IAAK,CAAC,GAAG,MAAMvB,IAAI,CAACwB,IAAI,CAAC,gBAAgB,EAAE;MACjDE,IAAI;MACJL,KAAK;MACLC,QAAQ;MACRK;IACF,CAAC,CAAC;IACFP,MAAM,CAAC,SAAS,EAAEG,IAAI,CAAC;IACvB,OAAOA,IAAI,CAAC,CAAC;EACf,CAAC;EAED,MAAMK,OAAOA,CAAC;IAAE3B,KAAK;IAAEmB;EAAO,CAAC,EAAE;IAC/B,IAAI,CAACnB,KAAK,CAACC,KAAK,EAAE;IAClB,MAAM;MAAEqB;IAAK,CAAC,GAAG,MAAMvB,IAAI,CAAC6B,GAAG,CAAC,UAAU,CAAC;IAC3CT,MAAM,CAAC,YAAY,EAAEG,IAAI,CAAClB,OAAO,CAAC;EACpC,CAAC;EAEDyB,MAAMA,CAAC;IAAEV;EAAO,CAAC,EAAE;IACjBA,MAAM,CAAC,WAAW,CAAC;EACrB;AACF,CAAC;AAED,eAAe;EAAEW,UAAU,EAAE,IAAI;EAAE9B,KAAK;EAAEO,OAAO;EAAEG,SAAS;EAAEO;AAAQ,CAAC","ignoreList":[]}]}